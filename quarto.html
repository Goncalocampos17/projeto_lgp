<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Quarto</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="quarto">

  <header>
    <h1>Quarto</h1>
    <p>Clica num objeto para aprender o gesto em LGP</p>
  </header>

  <main>
    <div class="room-container">
      <img id="roomImg" src="imagens/quarto.png" alt="Quarto" class="room">

      <!-- Objetos clicáveis -->
      <a href="videos/cama.mp4" class="obj cama" target="_blank" title="Cama"></a>
      <a href="videos/candeeiro.mp4" class="obj candeeiro" target="_blank" title="Candeeiro"></a>
      <a href="videos/estante.mp4" class="obj estante" target="_blank" title="Estante"></a>
      <a href="videos/relogio.mp4" class="obj relogio" target="_blank" title="Relógio"></a>
      <a href="videos/armario.mp4" class="obj armario" target="_blank" title="Armário"></a>
      <a href="videos/vaso.mp4" class="obj vaso" target="_blank" title="Vaso"></a>
      <a href="videos/tapete.mp4" class="obj tapete" target="_blank" title="Tapete"></a>
      <a href="videos/mesa_cabeceira.mp4" class="obj mesa_cabeceira" target="_blank" title="Mesa de Cabeceira"></a>
      <a href="videos/janela.mp4" class="obj janela" target="_blank" title="Janela"></a>
    </div>
  </main>

  <footer>
    <a href="casa.html" class="btn">Voltar à Casa</a>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const img = document.getElementById('roomImg');

      const objetos = {
        cama:          "200,500,500,700",
        candeeiro:     "600,200,650,400",
        estante:       "50,300,180,600",
        relogio:       "700,100,750,180",
        armario:       "500,300,700,600",
        vaso:          "300,650,350,750",
        tapete:        "250,750,600,850",
        mesa_cabeceira:"520,500,600,600",
        janela:        "100,100,300,250"
      };

      function positionObjects() {
        const natW = img.naturalWidth || img.width;
        const natH = img.naturalHeight || img.height;

        Object.entries(objetos).forEach(([classe, coords]) => {
          const el = document.querySelector(".obj." + classe);
          if (!el) return;

          const [x1, y1, x2, y2] = coords.split(",").map(Number);
          el.style.left   = (x1 / natW) * 100 + "%";
          el.style.top    = (y1 / natH) * 100 + "%";
          el.style.width  = ((x2 - x1) / natW) * 100 + "%";
          el.style.height = ((y2 - y1) / natH) * 100 + "%";
        });
      }

      if (img.complete) positionObjects();
      else img.addEventListener("load", positionObjects);
      window.addEventListener("resize", positionObjects);
    });
  </script>

</body>
</html>
